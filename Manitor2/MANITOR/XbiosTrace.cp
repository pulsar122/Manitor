#include "Manitor.h"#include "ReturnTrace.h"#include "XbiosTrace.h"#include <xbios.h>#include <stdlib.h>#include <string.h>void Output_XbiosReturn(XbiosReturnInfo *info){	static char nr[12];	itoa(info->opcode, nr, 10);	log->fill_string(">Xbios#");	log->fill_string(nr);	log->fill(" => ", 4);	ltoa(info->ret, nr, 10);	log->fill_string(nr);	log->fill_crlf();}int32 CDECL XbiosCallTrace(int16 *para, int16 *call_original, int16 super_called){#pragma unused(call_original)	static char nr[8];	ENTER_CALLBACK();// Anstehende Return-Ausgaben tŠtigen:	Output_Returns();// Jetzt diesen Call ausgeben:	Output_Prefix(my_200Hz, *p_run);	log->fill(super_called ? "S" : " ", 1);	log->fill_string(" Xbios#");	itoa(*para, nr, 10);	log->fill_string(nr);	log->fill_crlf();	if (update_immediate) {		log->update();	}	EXIT_CALLBACK();	return E_OK;}int32 CDECL XbiosReturnTrace(int32 ret, int16 *para, int16 is_super){	ENTER_CALLBACK();	XbiosReturnInfo *gret = (XbiosReturnInfo *)begin_layer_table_entry(&xbiosreturn_info_table.table, TRAPPER_XBIOS, is_super);	if (gret) {		gret->opcode = *para;		gret->ret = ret;	}	end_layer_table_entry(is_super);	EXIT_CALLBACK();	return ret;}